---
alwaysApply: true
---
# Правила разработки Rust

## Безопасность
- Избегать unsafe блоков
- Использовать borrow checker для гарантий безопасности
- Проверять границы массивов

## Ownership и Borrowing
- Понимать правила ownership
- Использовать references для временного доступа
- Клонировать только при необходимости

## Структуры данных
- Определять структуры в отдельных модулях
- Реализовывать traits для интерфейсов
- Использовать derive для стандартных traits

## Error Handling
- Использовать Result<T, E> для recoverable ошибок
- Использовать panic! только для unrecoverable ошибок
- Создавать custom error типы

## Асинхронность
- Использовать async/await для асинхронных операций
- Выбирать правильный runtime (tokio для Tauri)
- Обрабатывать cancellation токены

## Модули и организация
- Организовывать код в модули
- Использовать pub только для публичного API
- Документировать публичные функции

## Производительность
- Использовать Vec вместо LinkedList для последовательного доступа
- Оптимизировать allocations
- Профилировать bottlenecks

## Тестирование
- Писать unit тесты для функций
- Использовать integration тесты для модулей
- Тестировать error cases

## Dependencies
- Минимизировать количество зависимостей
- Проверять лицензии и безопасность зависимостей
- Использовать Cargo.lock для reproducible builds
